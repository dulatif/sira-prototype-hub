---
// Sidebar Component
interface Props {
  activePage?: string;
}

const { activePage = "dashboard" } = Astro.props;

const navItems = [
  { id: "dashboard", icon: "dashboard", label: "Dashboard", href: "/" },
  {
    id: "account",
    icon: "account_balance",
    label: "Account",
    href: "/account",
  },
  {
    id: "transaction",
    icon: "list_alt",
    label: "Transaction",
    href: "/transaction",
  },
  { id: "goals", icon: "track_changes", label: "Goals", href: "/goals" },
  {
    id: "split-bill",
    icon: "payments",
    label: "Split Bill",
    href: "/split-bill",
  },
  {
    id: "categories",
    icon: "category",
    label: "Categories",
    href: "/categories",
  },
  { id: "budget", icon: "pie_chart", label: "Budget", href: "/budget" },
  { id: "report", icon: "bar_chart", label: "Report", href: "/report" },
  { id: "settings", icon: "settings", label: "Setting", href: "/settings" },
];
---

<aside
  class="hidden md:flex flex-col w-72 h-full border-r border-[#e7f3f2] bg-white/50 backdrop-blur-sm p-6 relative z-20"
>
  <!-- Logo -->
  <div class="flex items-center gap-4 mb-10 pl-2">
    <div
      class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10 shadow-sm"
      style="background-image: url('/Sira_Official_Logo.webp')"
    >
    </div>
    <div class="flex flex-col">
      <h1
        class="text-[#1e293b] text-xl font-display font-bold leading-none tracking-tight"
      >
        Sira
      </h1>
      <p class="text-slate-500 text-xs font-body font-medium mt-1">
        Mindful Finance
      </p>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="flex-1 space-y-1 overflow-y-auto scrollbar-hide">
    {
      navItems.map((item) => (
        <a
          class:list={[
            "flex items-center gap-3 px-4 py-3 rounded-xl transition-all",
            activePage === item.id
              ? "bg-primary/10 text-primary font-bold"
              : "text-slate-500 hover:bg-slate-50",
          ]}
          href={item.href}
        >
          <span class="material-symbols-outlined">{item.icon}</span>
          <span class="font-semibold text-sm">{item.label}</span>
        </a>
      ))
    }
  </nav>

  <!-- Bottom Section -->
  <div class="mt-auto pt-6">
    <!-- Daily Insight Card -->
    <div
      class="glass-panel p-4 rounded-2xl mb-6 relative overflow-hidden group cursor-pointer"
    >
      <div
        class="absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity"
      >
        <span class="material-symbols-outlined text-6xl text-primary"
          >psychology</span
        >
      </div>
      <p class="text-xs font-bold text-slate-500 uppercase tracking-wider mb-1">
        Daily Insight
      </p>
      <p class="text-sm text-[#1e293b] font-medium leading-relaxed">
        "Consistency is the path to wealth, not intensity."
      </p>
    </div>

    <!-- New Transaction Button -->
    <button
      class="btn-new-transaction w-full flex items-center justify-center gap-2 rounded-xl h-12 text-white text-sm font-bold transition-all active:scale-95"
    >
      <span class="material-symbols-outlined text-lg">add</span>
      <span>New Transaction</span>
    </button>
  </div>
</aside>

<style>
  .glass-panel {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.6);
  }

  .btn-new-transaction {
    background-color: #2a9d8f;
    box-shadow: 0 0 20px rgba(42, 157, 143, 0.3);
  }

  .btn-new-transaction:hover {
    background-color: #238b7e;
  }
</style>
