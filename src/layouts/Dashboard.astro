---
// Dashboard Layout with Sidebar, Header, and Content Slot
import Base from './Base.astro';
import Sidebar from '../components/Sidebar.astro';
import Header from '../components/Header.astro';

interface Props {
  title: string;
  pageTitle: string;
  pageSubtitle?: string;
  pageIcon?: string;
  activePage?: string;
}

const { 
  title, 
  pageTitle, 
  pageSubtitle = '', 
  pageIcon = 'dashboard',
  activePage = 'dashboard'
} = Astro.props;
---

<Base title={title}>
  <div class="bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark font-sans transition-colors duration-300 antialiased overflow-hidden h-screen flex">
    <Sidebar activePage={activePage} />
    
    <main class="flex-1 flex flex-col h-screen overflow-hidden relative">
      <!-- Ambient Background Blobs -->
      <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-teal-300/20 dark:bg-teal-900/20 rounded-full blur-3xl pointer-events-none -translate-y-1/2 translate-x-1/4"></div>
      <div class="absolute bottom-0 left-20 w-[300px] h-[300px] bg-blue-300/20 dark:bg-blue-900/20 rounded-full blur-3xl pointer-events-none translate-y-1/3"></div>

      <Header title={pageTitle} subtitle={pageSubtitle} icon={pageIcon} />

      <!-- Page Content -->
      <div class="flex-1 overflow-y-auto overflow-x-hidden p-8 scroll-smooth">
        <div class="max-w-7xl mx-auto space-y-8">
          <slot />
        </div>
      </div>
    </main>
  </div>
</Base>

<style>
  /* Add any dashboard-specific styles here */
</style>
